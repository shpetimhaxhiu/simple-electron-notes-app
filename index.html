<!DOCTYPE html>
<html data-bs-theme="dark">

  <head>
    <title>Note Taking App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Nanum+Pen+Script&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Fontawesome CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="./styles.css">
  </head>

  <body class="bg-transparent m-0 p-0" style="-webkit-app-region: drag; height: 700px; width: 100vw; overflow: hidden; z-index:-1;">

    <div class="rounded shadow-lg container p-4" data-bs-theme="dark" style="z-index: 1;">
      <div class="row">
        <div class="">
          <div class="d-flex justify-content-between mb-2 px-3">
            <h1 class=" text-center d-inline-flex display-5">Note Taking App</h1>
            <!-- Bootstrap Theme Switcher -->
            <div class="theme-switcher d-inline-flex my-2" style="-webkit-app-region: no-drag">
              <button id="theme-switcher" class="btn">
                <i class="fas fa-sun"></i>
              </button>
            </div>
          </div>
          <div class="border-0 crd" style="-webkit-app-region: no-drag">
            <div class="card-body">
              <form id="note-form">
                <div class="form-group mb-2">
                  <!-- hidden input field to store note id -->
                  <input type="hidden" id="hidden-input">
                  <input type="text" id="note" class="form-control" placeholder="Enter Note">
                </div>
                <div class="form-group">
                  <textarea type="text" id="extra-note" class="form-control" placeholder="Enter Extra Note"></textarea>
                </div>
                <button type="submit" id="submit-button" class="btn btn-sm mt-3 btn-outline-primary">Add</button>
                <button type="reset" id="reset-button" class="btn btn-sm mt-3 btn-outline-secondary">Reset</button>

                <span id="date-time-created" class="text-muted d-inline-flex float-end mt-3"></span>

              </form>
              <!-- List of Notes -->
              <ul id="note-list" class="list-group mt-5">
              </ul>
            </div>
          </div>
          <!-- Delete confirmation modal -->
          <div class="modal fade " id="delete-modal" tabindex="-1" aria-labelledby="delete-modal-label" aria-hidden="true">
            <div class="modal-dialog modal-md modal-fullscreen-sm-down">
              <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                  <h5 class="modal-title" id="delete-modal-label">Delete Note</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                  Are you sure you want to delete this note?
                </div>

                <div class="modal-footer">
                  <button type="button" id="cancel-button-cnfr" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                  <button type="button" id="delete-button-cnfr" class="btn btn-danger">Yes</button>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./renderer.js"></script>
    <script>
      // Theme switcher code
      const themeSwitcher = document.getElementById('theme-switcher');
      themeSwitcher.addEventListener('click', () => {
        const html = document.querySelector('html');

        const container = document.querySelector('.container');
        if (html.dataset.bsTheme === 'light' || container.dataset.bsTheme === 'light') {
          html.dataset.bsTheme = 'dark';
          container.dataset.bsTheme = 'dark';
          themeSwitcher.innerHTML = '<i class="fas fa-moon"></i>';
        } else {
          html.dataset.bsTheme = 'light';
          container.dataset.bsTheme = 'light';
          themeSwitcher.innerHTML = '<i class="fas fa-sun"></i>';
        }
      });
    </script>
  </body>

</html>
